# üî• –û–¢–õ–ê–î–ö–ê –ó–ê–ì–†–£–ó–ö–ò –§–û–¢–û –í –ê–ö–¢–ò–í–ù–û–°–¢–Ø–•

## –ü–†–û–ë–õ–ï–ú–ê:
–§–æ—Ç–æ –≤ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—è—Ö –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è/–Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –Ω–æ—Ä–º–∞–ª—å–Ω–æ

## –ß–¢–û –°–î–ï–õ–ê–ù–û:

### 1. –î–æ–±–∞–≤–ª–µ–Ω–æ –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–µ–∑–¥–µ:
- –í `components/TourFormConvex.tsx` - —Ñ—É–Ω–∫—Ü–∏—è `handleActivityImageSelect`
- –í `components/tour-form-convex/TourDayActivities.tsx` - –≤—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏

### 2. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ (–ø–æ –∞–Ω–∞–ª–æ–≥–∏–∏ —Å –æ–±–ª–æ–∂–∫–æ–π —Ç—É—Ä–∞):
- –ü—Ä–∏ –≤—ã–±–æ—Ä–µ —Ñ–∞–π–ª–∞ —Å—Ä–∞–∑—É –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–µ–≤—å—é
- –ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ë–î
- –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `updateActivityAndSave` –¥–ª—è –∞–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è

### 3. –û–±–Ω–æ–≤–ª–µ–Ω—ã —Å—Ö–µ–º—ã Convex:
- –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `image_url` –¥–ª—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π
- –ü–µ—Ä–µ–¥–µ–ø–ª–æ–µ–Ω—ã —Å—Ö–µ–º—ã

## –ö–ê–ö –¢–ï–°–¢–ò–¢–¨ –õ–û–ö–ê–õ–¨–ù–û:

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π:
./start-local.sh

# –ò–ª–∏ –≤ –¥–≤—É—Ö —Ç–µ—Ä–º–∏–Ω–∞–ª–∞—Ö:
# –¢–µ—Ä–º–∏–Ω–∞–ª 1:
npx convex dev

# –¢–µ—Ä–º–∏–Ω–∞–ª 2:  
npm run dev
```

–û—Ç–∫—Ä—ã—Ç—å: http://localhost:3000/admin/tours

## –ì–î–ï –°–ú–û–¢–†–ï–¢–¨ –õ–û–ì–ò:

### –í –±—Ä–∞—É–∑–µ—Ä–µ (F12 -> Console):
- üî•üî•üî• handleActivityImageSelect –≤—ã–∑–≤–∞–Ω
- ‚úÖ –§–∞–π–ª –≤—ã–±—Ä–∞–Ω: [–∏–º—è]
- üöÄ –ù–∞—á–∏–Ω–∞–µ–º –∑–∞–≥—Ä—É–∑–∫—É —Ñ–∞–π–ª–∞
- ‚úÖ –§–∞–π–ª –∑–∞–≥—Ä—É–∂–µ–Ω, storageId: [ID]
- üîç –ò—â–µ–º –¥–µ–Ω—å/–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
- üéØ –û–±–Ω–æ–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
- üíæ –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –ë–î
- ‚ùå –û—à–∏–±–∫–∏

### –ö–ª—é—á–µ–≤—ã–µ —Ñ–∞–π–ª—ã –¥–ª—è –¥–µ–±–∞–≥–∞:
1. `/components/TourFormConvex.tsx` - —Å—Ç—Ä–æ–∫–∏ 244-310 (handleActivityImageSelect)
2. `/components/tour-form-convex/TourDayActivities.tsx` - —Å—Ç—Ä–æ–∫–∏ 245-303 (–∫–Ω–æ–ø–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∏ input)
3. `/convex/tours.ts` - updateTour –º—É—Ç–∞—Ü–∏—è

## –í–û–ó–ú–û–ñ–ù–´–ï –ü–†–û–ë–õ–ï–ú–´:

### 1. –§–∞–π–ª –Ω–µ –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è:
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏: "üìÅ –§–∞–π–ª –≤—ã–±—Ä–∞–Ω —á–µ—Ä–µ–∑ input"
- –ï—Å–ª–∏ –Ω–µ—Ç - –ø—Ä–æ–±–ª–µ–º–∞ —Å file input ref

### 2. –§–∞–π–ª –≤—ã–±—Ä–∞–Ω –Ω–æ –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è:
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏: "üöÄ –ù–∞—á–∏–Ω–∞–µ–º –∑–∞–≥—Ä—É–∑–∫—É —Ñ–∞–π–ª–∞"  
- –ï—Å–ª–∏ –µ—Å—Ç—å –æ—à–∏–±–∫–∞ - –ø—Ä–æ–±–ª–µ–º–∞ —Å uploadImage

### 3. –§–∞–π–ª –∑–∞–≥—Ä—É–∂–µ–Ω –Ω–æ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è:
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏: "‚úÖ –§–∞–π–ª –∑–∞–≥—Ä—É–∂–µ–Ω, storageId:"
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å "üéØ –û–±–Ω–æ–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å"
- –ï—Å–ª–∏ storageId –µ—Å—Ç—å –Ω–æ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è - –ø—Ä–æ–±–ª–µ–º–∞ —Å useFileUrl —Ö—É–∫–æ–º

### 4. –§–∞–π–ª –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –Ω–æ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è:
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏: "üíæ –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –ë–î"
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å "‚ö†Ô∏è –ù–µ —Å–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –ë–î: tourId:"
- –ï—Å–ª–∏ tourId –∏–ª–∏ dayId –Ω–µ—Ç - –ø—Ä–æ–±–ª–µ–º–∞ —Å–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π –¥–∞–Ω–Ω—ã—Ö

## –¢–ï–ö–£–©–ò–ô –°–¢–ê–¢–£–°:
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –ø–æ –∞–Ω–∞–ª–æ–≥–∏–∏ —Å –æ–±–ª–æ–∂–∫–æ–π
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω—ã —Å—Ö–µ–º—ã Convex
- ‚ö†Ô∏è –ù–£–ñ–ù–û –ü–†–û–¢–ï–°–¢–ò–†–û–í–ê–¢–¨ –õ–û–ö–ê–õ–¨–ù–û –° –õ–û–ì–ê–ú–ò

## –ö–û–ú–ê–ù–î–´ –î–õ–Ø –ë–´–°–¢–†–û–ì–û –§–ò–ö–°–ê:

```bash
# –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–¥–µ–ø–ª–æ–∏—Ç—å Convex:
npx convex deploy

# –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –ø—Ä–æ–µ–∫—Ç:
npm run build

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ —Å –ª–æ–≥–∞–º–∏:
./start-local.sh
```

## –ü–û–°–õ–ï–î–ù–ò–ï –ò–ó–ú–ï–ù–ï–ù–ò–Ø:
- –ö–æ–º–º–∏—Ç: ee5f86d - –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ö–æ–º–º–∏—Ç: a7ec52e - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∑–∞–≥—Ä—É–∑–∫–∞ –ø–æ –∞–Ω–∞–ª–æ–≥–∏–∏ —Å –æ–±–ª–æ–∂–∫–æ–π
- –ö–æ–º–º–∏—Ç: 082c281 - –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ image_url –≤ —Å—Ö–µ–º—É

---
–ï–°–õ–ò –í–°–ï –ï–©–ï –ù–ï –†–ê–ë–û–¢–ê–ï–¢ - –°–ö–ò–ù–¨ –õ–û–ì–ò –ò–ó –ö–û–ù–°–û–õ–ò –ë–†–ê–£–ó–ï–†–ê!